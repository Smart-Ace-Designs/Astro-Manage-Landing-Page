---
import type { ImageMetadata } from "astro";
import Image from "astro/components/Image.astro";

interface Props {
  avatar: string;
  author: string;
  content: string;
  classes?: string;
}

const { avatar, author, content, classes } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>("@/assets/*.png");

if (!images[avatar])
  throw new Error(`"${avatar}" does not exist in glob: "@/assets/*.png}"`);
---

<div
  class:list={[
    classes,
    "bg-theme-very-light-gray flex-col items-center space-y-6 rounded-lg p-6 md:w-1/3",
  ]}
>
  <Image
    src={images[avatar]()}
    alt="Avatar"
    loading={"lazy"}
    class="-mt-14 w-16"
  />
  <h5 class="text-lg font-bold">{author}</h5>
  <p class="text-theme-dark-grayish-blue text-sm">{content}</p>
</div>
